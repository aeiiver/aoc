<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Day 1 - Advent of Code 2022</title>
  </head>

  <body>
    <h1>Day 1</h1>
    <p><label for="problem-input">Puzzle input:</label></p>
    <textarea id="problem-input"></textarea>
    <p><button id="solve-button">Solve</button></p>
    <p>Part one: <span id="part-one"></span></p>
    <p>Part two: <span id="part-two"></span></p>
  </body>

  <script type="module">
    let problemInput = document.getElementById("problem-input");
    problemInput.innerHTML = (await import("./01.prod.js")).calories;

    let solveButton = document.getElementById("solve-button");
    let partOne = document.getElementById("part-one");
    let partTwo = document.getElementById("part-two");

    solveButton.addEventListener("click", () => {
      // 72511
      partOne.innerHTML = problemInput.value
        .split("\n\n")
        .map((elf) =>
          elf
            .split("\n")
            .map((calorie) => parseInt(calorie, 10))
            .reduce((acc, cur) => acc + cur, 0)
        )
        .sort((a, b) => b - a)
        .at(0);

      // 212117
      partTwo.innerHTML = problemInput.value
        .split("\n\n")
        .map((elf) =>
          elf
            .split("\n")
            .map((calorie) => parseInt(calorie, 10))
            .reduce((acc, cur) => acc + cur, 0)
        )
        .sort((a, b) => b - a)
        .slice(0, 3)
        .reduce((acc, cur) => acc + cur, 0);
    });
  </script>
</html>
